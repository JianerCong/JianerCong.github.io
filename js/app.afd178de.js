(function(){"use strict";var t={9451:function(t,n,e){e(2166);var s=e(9242),o=e(3396);function a(t,n){const e=(0,o.up)("router-view");return(0,o.wg)(),(0,o.j4)(e)}var i=e(89);const l={},r=(0,i.Z)(l,[["render",a]]);var c=r,u=e(2483);const d={class:"home"};function p(t,n,e,s,a,i){const l=(0,o.up)("HelloWorld");return(0,o.wg)(),(0,o.iD)("div",d,[(0,o.Wm)(l)])}var g=e(7139);const m=t=>((0,o.dD)("data-v-1a8e69e6"),t=t(),(0,o.Cn)(),t),h={class:"navbar navbar-expand-lg bg-secondary navbar-dark py-3 fixed-top"},b={class:"container"},f=m((()=>(0,o._)("a",{href:"#",class:"navbar-brand"},"A Todo App",-1))),v=m((()=>(0,o._)("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navmenu"},[(0,o._)("span",{class:"navbar-toggler-icon"})],-1))),_={class:"collapse navbar-collapse",id:"navmenu"},w={class:"navbar-nav ms-auto text-end"},y={key:0,class:"nav-item mt-2"},k=m((()=>(0,o._)("i",{class:"bi bi-wifi"},null,-1))),x=[k],$={key:1,class:"nav-item mt-2"},U=m((()=>(0,o._)("i",{class:"bi bi-wifi-off"},null,-1))),C=[U],W={class:"nav-item mt-2"},O={href:"#",class:"nav-link"},T=(0,o.Uk)(" Logged in as: "),D={class:"badge text-bg-success"},j={class:"nav-item mt-2"},S={href:"#",class:""},A={class:"nav-item mt-2 mx-lg-2"},F={href:"#",class:""},E={type:"button",class:"btn btn-success"},H=(0,o.Uk)("Log In / Sign Up"),L={class:"nav-item mt-2 mx-lg-2"},q={href:"#",class:""},P={type:"button",class:"btn btn-info"},V=(0,o.Uk)("About"),N={class:"fixed-bottom"},z={class:"container bg-light"},K={class:"input-group mb-3"},Z={class:"container pt-4"},B=["onClick"],M={key:0,class:"bi bi-square"},R={key:1,class:"bi bi-check-square"},I={class:"col-8 col-md-10"},G={key:0,class:"text-muted"},Y={key:1},J=["onClick"],Q=m((()=>(0,o._)("i",{class:"bi bi-x-square-fill"},null,-1))),X=[Q];function tt(t,n,e,a,i,l){const r=(0,o.up)("router-link");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o._)("nav",h,[(0,o._)("div",b,[f,v,(0,o._)("div",_,[(0,o._)("ul",w,[l.online?((0,o.wg)(),(0,o.iD)("li",y,[(0,o._)("span",{class:"badge text-bg-success",onClick:n[0]||(n[0]=(...t)=>l.toggleOnline&&l.toggleOnline(...t))},x)])):((0,o.wg)(),(0,o.iD)("li",$,[(0,o._)("span",{class:"badge text-bg-success",onClick:n[1]||(n[1]=(...t)=>l.toggleOnline&&l.toggleOnline(...t))},C)])),(0,o.wy)((0,o._)("li",W,[(0,o._)("a",O,[T,(0,o._)("span",D,(0,g.zw)(l.unam),1)])],512),[[s.F8,""!==l.unam]]),(0,o.wy)((0,o._)("li",j,[(0,o._)("a",S,[(0,o._)("button",{type:"button",class:"btn btn-danger",onClick:n[2]||(n[2]=(...t)=>l.logOut&&l.logOut(...t))},"Log out")])],512),[[s.F8,""!==l.unam]]),(0,o.wy)((0,o._)("li",A,[(0,o._)("a",F,[(0,o._)("button",E,[(0,o.Wm)(r,{to:"/login"},{default:(0,o.w5)((()=>[H])),_:1})])])],512),[[s.F8,""===l.unam]]),(0,o._)("li",L,[(0,o._)("a",q,[(0,o._)("button",P,[(0,o.Wm)(r,{to:"/about"},{default:(0,o.w5)((()=>[V])),_:1})])])])])])])]),(0,o._)("section",N,[(0,o._)("div",z,[(0,o._)("div",K,[(0,o.wy)((0,o._)("input",{onKeyup:n[3]||(n[3]=(0,s.D2)(((...t)=>l.addTodo&&l.addTodo(...t)),["enter"])),type:"text",class:"form-control","onUpdate:modelValue":n[4]||(n[4]=t=>i.input=t),placeholder:"Write your todo here"},null,544),[[s.nr,i.input]]),(0,o.wy)((0,o._)("button",{onClick:n[5]||(n[5]=(...t)=>l.addTodo&&l.addTodo(...t)),class:"btn btn-success",type:"button"},"Add",512),[[s.F8,""!==i.input]])])])]),(0,o._)("section",null,[(0,o._)("div",Z,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(i.todos,((t,n)=>((0,o.wg)(),(0,o.iD)("div",{class:"row mx-3 rounded bg-light border lead mb-2",key:n},[(0,o._)("div",{class:"col-2 col-md-1 rounded-start text-center",onClick:t=>l.toggleDone(n)},[t.done?((0,o.wg)(),(0,o.iD)("i",R)):((0,o.wg)(),(0,o.iD)("i",M))],8,B),(0,o._)("div",I,[t.done?((0,o.wg)(),(0,o.iD)("del",G,(0,g.zw)(t.name),1)):((0,o.wg)(),(0,o.iD)("span",Y,(0,g.zw)(t.name),1))]),(0,o._)("div",{class:"col-2 col-md-1 rounded-end text-center",onClick:t=>l.remove(n)},X,8,J)])))),128))])])])}var nt=e(6265),et=e.n(nt),st={name:"HelloWorld",data(){return{input:"",todos:[],http:et().create({baseURL:"http://52.0.38.184:8001/todos"})}},created:function(){console.log(`HelloWorld created() called with BACKEND = ${this.http.getUri()} `),this.online&&this.unam&&""!==this.unam&&this.fetchAll()},methods:{remove(t){console.log(`Removing ${t}`),this.todos.splice(t,1),this.sync()},toggleDone(t){console.log(`Toggling for ${t}`),this.todos[t].done=!this.todos[t].done,this.sync()},addTodo(){console.log(`Adding todo ${this.input}`),this.todos.push({name:this.input,done:!1}),this.input="",this.sync()},async fetchAll(){let t,n=this.todos.map((t=>t.name));console.log(`fetching data for ${this.unam}`),await this.http.post("/getall/",{unam:this.unam}).then((n=>{t=n.data})).catch(ot);for(let e of t)console.log(`Got remote item {name:${e.name}, done:${e.done}}`),n.includes(e.name)||(console.log("\tAdding this"),this.todos.push({name:e.name,done:e.done}))},async sync(){this.online&&await this._sync()},async _sync(){await this.http.delete("/",{data:{unam:this.unam}}).catch((t=>console.write(t)));for(let t of this.todos)await this.http.post("/",{name:t.name,done:t.done,unam:this.unam}).catch(ot)},logOut(){this.$store.commit("setUnam",""),this.todos=[]},toggleOnline(){this.$store.commit("toggleOnline")}},computed:{unam(){return this.$store?.state.unam},online(){return this.$store?.state.online}}};function ot(t){t.response?(console.log(t.response.data),console.log(t.response.status),console.log(t.response.headers)):t.request?console.log(t.request):console.log("Err",t.message),console.log(t.config)}const at=(0,i.Z)(st,[["render",tt],["__scopeId","data-v-1a8e69e6"]]);var it=at,lt={name:"HomeView",components:{HelloWorld:it},data(){return{unam:""}}};const rt=(0,i.Z)(lt,[["render",p]]);var ct=rt;const ut=(0,o._)("nav",{class:"navbar navbar-expand-lg bg-secondary navbar-dark py-3 fixed-top"},[(0,o._)("div",{class:"container"},[(0,o._)("a",{href:"#",class:"navbar-brand"},"Log In")])],-1),dt={class:"container pt-4"},pt={class:"input-group mb-3"},gt=(0,o._)("span",{class:"input-group-text"},[(0,o._)("i",{class:"bi bi-person-circle"})],-1),mt={class:"input-group mb-3"},ht=(0,o._)("span",{class:"input-group-text"},[(0,o._)("i",{class:"bi bi-lock-fill"})],-1),bt={class:"alert alert-danger",role:"alert"},ft={class:"alert alert-danger",role:"alert"},vt={class:"d-grid gap-2 mt-3 mx-auto d-md-flex justify-content-md-end",style:{"grid-template-columns":"repeat(3, 1fr)"}},_t=(0,o.Uk)(" Sign Up "),wt=(0,o._)("span",{class:"h3"},[(0,o._)("i",{class:"bi bi-check"})],-1),yt=[wt],kt={class:"h3"},xt=(0,o._)("i",{class:"bi bi-x"},null,-1),$t=(0,o._)("div",{class:"container"},[(0,o._)("div",{class:"d-flex justify-content-center"},[(0,o._)("div",{class:"spinner-border m-5",role:"status",style:{width:"3rem",height:"3rem"}},[(0,o._)("span",{class:"visually-hidden"},"Loading...")])])],-1),Ut=[$t];function Ct(t,n,e,a,i,l){const r=(0,o.up)("router-link");return(0,o.wg)(),(0,o.iD)("div",null,[ut,(0,o._)("section",null,[(0,o._)("div",dt,[(0,o._)("div",pt,[gt,(0,o.wy)((0,o._)("input",{type:"text",class:(0,g.C_)(["form-control",{"is-invalid":l.unamWrong}]),"onUpdate:modelValue":n[0]||(n[0]=t=>i.unam=t)},null,2),[[s.nr,i.unam]])]),(0,o._)("div",mt,[ht,(0,o.wy)((0,o._)("input",{type:"password",class:(0,g.C_)(["form-control",{"is-invalid":l.pswdWrong}]),"onUpdate:modelValue":n[1]||(n[1]=t=>i.pswd=t)},null,2),[[s.nr,i.pswd]])]),(0,o.wy)((0,o._)("div",bt," Username empty ",512),[[s.F8,l.unamWrong]]),(0,o.wy)((0,o._)("div",ft," Password empty ",512),[[s.F8,l.pswdWrong]]),(0,o.wy)((0,o._)("div",{class:"alert alert-danger",role:"alert"},(0,g.zw)(i.msg),513),[[s.F8,""!==i.msg]]),(0,o._)("div",vt,[(0,o._)("button",{class:"btn btn-info my-login-btn",type:"button",onClick:n[2]||(n[2]=(...t)=>l.toSignUp&&l.toSignUp(...t))},[(0,o.Wm)(r,{to:"/signup"},{default:(0,o.w5)((()=>[_t])),_:1})]),(0,o._)("button",{class:"btn btn-success my-login-btn",type:"button",onClick:n[3]||(n[3]=(...t)=>l.send&&l.send(...t))},yt),(0,o._)("button",{class:"btn btn-secondary my-login-btn",type:"button",onClick:n[4]||(n[4]=(...t)=>l.toHome&&l.toHome(...t))},[(0,o._)("span",kt,[(0,o.Wm)(r,{to:"/"},{default:(0,o.w5)((()=>[xt])),_:1})])])])])]),(0,o.wy)((0,o._)("section",null,Ut,512),[[s.F8,i.loading]])])}var Wt={data(){return{unam:"aaa",pswd:"123",loading:!1,msg:"",http:et().create({baseURL:"http://52.0.38.184:8002"})}},created:function(){console.log(`Login created() called with BACKEND = ${this.http.getUri()} `)},methods:{toSignUp(){this.$router.push({path:"/signup"})},toHome(){this.$router.push({path:"/"})},async send(){if(this.unamWrong)return;if(this.pswdWrong)return;let t;console.log(`Try logging in  as (${this.unam}, ${this.pswd})`),this.loading=!0,this.online?(await this.http.post("login/",{unam:this.unam,pswd:this.pswd}).then((n=>{t=n.data})).catch(Ot),this.loading=!1,t.ok?(console.log(`login okay with ${this.unam}`),this.$store.commit("setUnam",this.unam),this.$router.push({path:"/"})):(console.log(`login failed with ${this.unam}`),this.msg=t.msg)):setTimeout((()=>{this.loading=!1,console.log("done"),this.$store.commit("setUnam",this.unam),this.$router.push({path:"/"})}),3e3)}},computed:{unamWrong(){return""===this.unam},pswdWrong(){return""===this.pswd},online(){return this.$store?.state.online}}};function Ot(t){t.response?(console.log(t.response.data),console.log(t.response.status),console.log(t.response.headers)):t.request?console.log(t.request):console.log("Err",t.message),console.log(t.config)}const Tt=(0,i.Z)(Wt,[["render",Ct]]);var Dt=Tt;const jt=(0,o._)("nav",{class:"navbar navbar-expand-lg bg-secondary navbar-dark py-3 fixed-top"},[(0,o._)("div",{class:"container"},[(0,o._)("a",{href:"#",class:"navbar-brand"},"Sign Up")])],-1),St={class:"container pt-4"},At={class:"input-group mb-3"},Ft=(0,o._)("span",{class:"input-group-text"},[(0,o._)("i",{class:"bi bi-person-circle"})],-1),Et={class:"input-group mb-3"},Ht=(0,o._)("span",{class:"input-group-text"},[(0,o._)("i",{class:"bi bi-lock-fill"})],-1),Lt={class:"input-group mb-3"},qt=(0,o._)("span",{class:"input-group-text"},[(0,o._)("i",{class:"bi bi-lock-fill"})],-1),Pt={class:"alert alert-danger",role:"alert"},Vt={class:"alert alert-danger",role:"alert"},Nt={class:"alert alert-danger",role:"alert"},zt={class:"d-grid gap-2 mt-3 mx-auto d-md-flex justify-content-md-end",style:{"grid-template-columns":"repeat(3, 1fr)"}},Kt=(0,o._)("div",null,null,-1),Zt=(0,o._)("span",{class:"h3"},[(0,o._)("i",{class:"bi bi-check"})],-1),Bt=[Zt],Mt={class:"h3"},Rt=(0,o._)("i",{class:"bi bi-x"},null,-1),It=(0,o._)("div",{class:"container"},[(0,o._)("div",{class:"d-flex justify-content-center"},[(0,o._)("div",{class:"spinner-border m-5",role:"status",style:{width:"3rem",height:"3rem"}},[(0,o._)("span",{class:"visually-hidden"},"Loading...")])])],-1),Gt=[It];function Yt(t,n,e,a,i,l){const r=(0,o.up)("router-link");return(0,o.wg)(),(0,o.iD)("div",null,[jt,(0,o._)("section",null,[(0,o._)("div",St,[(0,o._)("div",At,[Ft,(0,o.wy)((0,o._)("input",{type:"text",class:(0,g.C_)(["form-control",{"is-invalid":l.unamWrong}]),"onUpdate:modelValue":n[0]||(n[0]=t=>i.unam=t)},null,2),[[s.nr,i.unam]])]),(0,o._)("div",Et,[Ht,(0,o.wy)((0,o._)("input",{type:"password",class:(0,g.C_)(["form-control",{"is-invalid":l.pswdWrong}]),"onUpdate:modelValue":n[1]||(n[1]=t=>i.pswd=t)},null,2),[[s.nr,i.pswd]])]),(0,o._)("div",Lt,[qt,(0,o.wy)((0,o._)("input",{type:"password",class:(0,g.C_)(["form-control",{"is-invalid":l.pswdWrong||!l.pswdSame}]),"onUpdate:modelValue":n[2]||(n[2]=t=>i.pswd2=t)},null,2),[[s.nr,i.pswd2]])]),(0,o.wy)((0,o._)("div",Pt," Two passwords are not same. ",512),[[s.F8,!l.pswdSame]]),(0,o.wy)((0,o._)("div",Vt," Username empty ",512),[[s.F8,l.unamWrong]]),(0,o.wy)((0,o._)("div",Nt," Password empty ",512),[[s.F8,l.pswdWrong]]),(0,o.wy)((0,o._)("div",{class:"alert alert-danger",role:"alert"},(0,g.zw)(i.msg),513),[[s.F8,""!==i.msg]]),(0,o._)("div",zt,[Kt,(0,o._)("button",{class:"btn btn-success my-login-btn",type:"button",onClick:n[3]||(n[3]=(...t)=>l.send&&l.send(...t))},Bt),(0,o._)("button",{class:"btn btn-secondary my-login-btn",type:"button",onClick:n[4]||(n[4]=(...t)=>l.toHome&&l.toHome(...t))},[(0,o._)("span",Mt,[(0,o.Wm)(r,{to:"/"},{default:(0,o.w5)((()=>[Rt])),_:1})])])])])]),(0,o.wy)((0,o._)("section",null,Gt,512),[[s.F8,i.loading]])])}var Jt={data(){return{unam:"aaa",pswd:"123",pswd2:"123",loading:!1,msg:"",http:et().create({baseURL:"http://52.0.38.184:8002"})}},created:function(){console.log(`SignUp created() called with BACKEND = ${this.http.getUri()} `)},methods:{toSignUp(){this.$router.push({path:"/signup"})},toHome(){this.$router.push({path:"/"})},async send(){if(!this.pswdSame)return;if(this.unamWrong)return;if(this.pswdWrong)return;let t;console.log(`Try signing up as (${this.unam}, ${this.pswd})`),this.loading=!0,this.online?(await this.http.post("signup/",{unam:this.unam,pswd:this.pswd}).then((n=>{t=n.data})).catch(Qt),this.loading=!1,t.ok?(console.log(`signup okay with ${this.unam}`),this.$store.commit("setUnam",this.unam),this.$router.push({path:"/"})):(console.log(`signup failed with ${this.unam}`),this.msg=t.msg)):setTimeout((()=>{this.loading=!1,console.log("done"),this.$store.commit("setUnam",this.unam),this.$router.push({path:"/"})}),3e3)}},computed:{pswdSame(){return this.pswd===this.pswd2},unamWrong(){return""===this.unam},pswdWrong(){return""===this.pswd},online(){return this.$store?.state.online}}};function Qt(t){t.response?(console.log(t.response.data),console.log(t.response.status),console.log(t.response.headers)):t.request?console.log(t.request):console.log("Err",t.message),console.log(t.config)}const Xt=(0,i.Z)(Jt,[["render",Yt]]);var tn=Xt;const nn=[{path:"/",name:"home",component:ct},{path:"/login",name:"login",component:Dt},{path:"/signup",name:"signup",component:tn},{path:"/about",name:"about",component:()=>e.e(443).then(e.bind(e,7381))}],en=(0,u.p7)({history:(0,u.r5)(),routes:nn});var sn=en,on=e(65),an=(0,on.MT)({state:{unam:"",online:!1},getters:{},mutations:{setUnam(t,n){t.unam=n},toggleOnline(t){t.online=!t.online}},actions:{},modules:{}});(0,s.ri)(c).use(an).use(sn).mount("#app")}},n={};function e(s){var o=n[s];if(void 0!==o)return o.exports;var a=n[s]={exports:{}};return t[s](a,a.exports,e),a.exports}e.m=t,function(){var t=[];e.O=function(n,s,o,a){if(!s){var i=1/0;for(u=0;u<t.length;u++){s=t[u][0],o=t[u][1],a=t[u][2];for(var l=!0,r=0;r<s.length;r++)(!1&a||i>=a)&&Object.keys(e.O).every((function(t){return e.O[t](s[r])}))?s.splice(r--,1):(l=!1,a<i&&(i=a));if(l){t.splice(u--,1);var c=o();void 0!==c&&(n=c)}}return n}a=a||0;for(var u=t.length;u>0&&t[u-1][2]>a;u--)t[u]=t[u-1];t[u]=[s,o,a]}}(),function(){e.n=function(t){var n=t&&t.__esModule?function(){return t["default"]}:function(){return t};return e.d(n,{a:n}),n}}(),function(){e.d=function(t,n){for(var s in n)e.o(n,s)&&!e.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:n[s]})}}(),function(){e.f={},e.e=function(t){return Promise.all(Object.keys(e.f).reduce((function(n,s){return e.f[s](t,n),n}),[]))}}(),function(){e.u=function(t){return"js/about.dc31b76b.js"}}(),function(){e.miniCssF=function(t){}}(),function(){e.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)}}(),function(){var t={},n="hi:";e.l=function(s,o,a,i){if(t[s])t[s].push(o);else{var l,r;if(void 0!==a)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==s||d.getAttribute("data-webpack")==n+a){l=d;break}}l||(r=!0,l=document.createElement("script"),l.charset="utf-8",l.timeout=120,e.nc&&l.setAttribute("nonce",e.nc),l.setAttribute("data-webpack",n+a),l.src=s),t[s]=[o];var p=function(n,e){l.onerror=l.onload=null,clearTimeout(g);var o=t[s];if(delete t[s],l.parentNode&&l.parentNode.removeChild(l),o&&o.forEach((function(t){return t(e)})),n)return n(e)},g=setTimeout(p.bind(null,void 0,{type:"timeout",target:l}),12e4);l.onerror=p.bind(null,l.onerror),l.onload=p.bind(null,l.onload),r&&document.head.appendChild(l)}}}(),function(){e.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){e.p="/"}(),function(){var t={143:0};e.f.j=function(n,s){var o=e.o(t,n)?t[n]:void 0;if(0!==o)if(o)s.push(o[2]);else{var a=new Promise((function(e,s){o=t[n]=[e,s]}));s.push(o[2]=a);var i=e.p+e.u(n),l=new Error,r=function(s){if(e.o(t,n)&&(o=t[n],0!==o&&(t[n]=void 0),o)){var a=s&&("load"===s.type?"missing":s.type),i=s&&s.target&&s.target.src;l.message="Loading chunk "+n+" failed.\n("+a+": "+i+")",l.name="ChunkLoadError",l.type=a,l.request=i,o[1](l)}};e.l(i,r,"chunk-"+n,n)}},e.O.j=function(n){return 0===t[n]};var n=function(n,s){var o,a,i=s[0],l=s[1],r=s[2],c=0;if(i.some((function(n){return 0!==t[n]}))){for(o in l)e.o(l,o)&&(e.m[o]=l[o]);if(r)var u=r(e)}for(n&&n(s);c<i.length;c++)a=i[c],e.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return e.O(u)},s=self["webpackChunkhi"]=self["webpackChunkhi"]||[];s.forEach(n.bind(null,0)),s.push=n.bind(null,s.push.bind(s))}();var s=e.O(void 0,[998],(function(){return e(9451)}));s=e.O(s)})();
//# sourceMappingURL=app.afd178de.js.map